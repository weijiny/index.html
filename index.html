<html>
  <head>

  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.min.js"></script>
    <script src="p5.collide2d.js"></script>
  
    <style>
    body {
      margin:0;
      padding:0;
    }
    </style>
    <script>

    var win = false;
    var hit = false;

    var w = window.innerWidth;
    var h = window.innerHeight;

    var x = w/2;
    var y = h/2;
    var player1;
    var player2;
    var objective;
    var life;
      
    var wall1;
    var wall2;
    var wall3;
    var wall4;
    

    function setup() {
  createCanvas(w, h);
  
  player1 = new player1();
  player2 = new player2();
  
  objective = new objective();
  life = new life();
      
  wall1 = new wall1();
  frameRate(144);
  
}

    function draw() {

  clear();
  player1.show();
  player1.update();
  player2.show();
  player2.update();

  objective.show();
  objective.update();
  
  life.show();
  life.update();
      
  wall1.show()
}
  


    function player1() {
    this.x = w/4;
    this.y = h/2;
    this.show = function() {
      fill(color('green'));
      rect(this.x,this.y,50,50)
      rectMode(CENTER)
    }  

    this.update = function() {
      //movement
      if (keyIsDown(65)) {
        this.x = this.x -= 3.53;
      }

      if (keyIsDown(68)) {
        this.x = this.x += 3.53;
      }

      if (keyIsDown(87)) {
        this.y = this.y -= 3.53;
      }

      if (keyIsDown(83)) {
        this.y = this.y += 3.53;
      }

    //border limit
      //top
      if (this.y < 28) {
        this.y = 28
      }
      //bottom
      if (this.y > h-28) {
        this.y = h-28
        
      }
      //left
      if (this.x < 28) {
        this.x = 28
      }
      //right
      if (this.x > w-28) {
        this.x = w-28
        
      }
    }
  
}

    function player2() {
    this.x = 3*w/4;
    this.y = h/2;
    this.show = function() {
      fill(color('purple'));
      rect(this.x,this.y,50,50)
    }    

    this.update = function() {
      if (keyIsDown(80)) {
          //p
        this.y -= 3.5
      }

     if (keyIsDown(186)) {
          //;
        this.y += 3.5
     }

     if (keyIsDown(76)) {
          //l
        this.x -= 3.5
     }

     if (keyIsDown(222)) {
          //'
        this.x += 3.5
     }

     //border limit
     if (this.y < 28) {
        this.y = 28
      }
      //bottom
      if (this.y > h-28) {
        this.y = h-28
        
      }
      //left
      if (this.x < 28) {
        this.x = 28
      }
      //right
      if (this.x > w-28) {
        this.x = w-28
        
      }
    }
  
}

    function life() {
      this.x = 3*w/4;
      this.y = h/2;
      this.show = function() {
        fill(color('purple'));
        rect(this.x,this.y,50,50)
      }

      this.update = function() {

        hit = collideRectRect(player1.x,player1.y,50,50,life.x,life.y,50,50);

        if (keyIsDown(80)) {
          //p
          this.y -= 3.5
        }

        if (keyIsDown(186)) {
          //;
          this.y += 3.5
        }

        if (keyIsDown(76)) {
          //l
          this.x -= 3.5
        }

        if (keyIsDown(222)) {
          //'
          this.x += 3.5
        }

     //border limit
        if (this.y < 28) {
          this.y = 28
        }
      //bottom
        if (this.y > h-28) {
          this.y = h-28
        }
      //left
        if (this.x < 28) {
          this.x = 28
        }
      //right
        if (this.x > w-28) {
          this.x = w-28
        }
      
        lifepoint = 2;

        if (hit == true) {
          location.href = "congrats.html";
        }
      }
      
}

    function objective() {
      this.x = 26;
      this.y = h/2;
      this.show = function() {
        fill(color('blue'));
        rect(this.x,this.y,50,200);
      }

      this.update = function() {
        win = collideRectRect(life.x,life.y,50,50,this.x,410,50,200);
          if (win == true) {
            location.href = "congrats2.html";
          }
      }
    }
    
    function wall1() {
      this.x = 100
      this.y = 110
      this.show = function() {
        fill(color('black'));
        rect(this.x,this.y,8,150)
    }
    </script>
  </body>
</html>
